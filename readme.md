# Eventify

Проект для управления событиями с использованием Spring Boot и PostgreSQL.

## Требования

- Docker
- Docker Compose
- Java 17+
- Gradle

## Запуск базы данных

Для запуска базы данных PostgreSQL используйте следующую команду:

```bash
docker-compose up -d --force-recreate
```

**Важно:** Если вы уже запускали контейнер ранее без init-скрипта, обязательно используйте флаг `--force-recreate` для пересоздания контейнера с новой схемой.

### Параметры команды:
- `up -d` - запуск контейнеров в фоновом режиме
- `--force-recreate` - пересоздание контейнеров при необходимости (перезаписывает существующие)

### Альтернативные команды:

**Обычный запуск (без пересоздания):**
```bash
docker-compose up -d
```

**Запуск с пересозданием и пересборкой:**
```bash
docker-compose up -d --force-recreate --build
```

**Остановка контейнеров:**
```bash
docker-compose down
```

**Остановка с удалением данных:**
```bash
docker-compose down -v
```

## Настройки базы данных

- **Хост:** localhost
- **Порт:** 5432
- **База данных:** eventify_db
- **Пользователь:** postgres
- **Пароль:** postgres
- **Схема:** eventify (создается автоматически Liquibase)

## Запуск приложения

После запуска базы данных можно запускать Spring Boot приложение:

```bash
./gradlew bootRun
```

Liquibase автоматически создаст схему `eventify` и применит все миграции при первом запуске приложения.

## API для работы с изображениями

Приложение поддерживает работу с внешними URL изображений:
- При создании события передавайте полный URL изображения в поле `coverUrl`
- Бэкенд сохраняет оригинальный URL без скачивания изображения
- При получении события возвращается тот же URL, который был передан при создании

## Проверка статуса

Для проверки статуса контейнеров:

```bash
docker-compose ps
```

Для просмотра логов:

```bash
docker-compose logs postgres
```

## Подключение к базе данных

Для подключения к базе данных через psql:

```bash
docker exec -it eventify-postgres psql -U postgres -d eventify_db
```

